# Tests for Sparse
The tests in the sub folders are for validating the IR for Sparse, as well as the **LLVM backend**. Since Sparse IR is not yet mature and is changing (based on proposed changes) it is difficult to directly validate the IR. The tests here use the LLVM backend to generate executable code which can be run. This allows each test to to be verified against the expected outcome. 

The tests include simple unit-tests as well as complex real life programs. 

## LICENSE
The tests are sourced from various Open Source projects - see the notices within the tests and in each sub-folder.

## Running tests
### Pre-requisites

* LLVM binaries must be on the path. The tests use `lli` command to execute the bitcode generated by 
  `sparse-llvm`. The `llc` command is also used in one case.
* `sparse-llvm` must be on the path.
* The test driver is a Python 3.6 script and will not run with Python 2.x.

### Running tests
To run the tests simply make sure that the pre-requisites are met and then run:

```
python runtests.py
```

### Other tests

The tests in `omrjit` and `nano` are for the respective backends. You can run these tests manually.